# 魔法门678语言包
高清硬3D的魔法门678整合版以及魔法门6、7、8的GrayFace灰脸补丁的简体中文汉化包（以及其他语言包）

## 简表

| 你现在有的 | 你想要的 | 怎样做 |
|----|----|----|
| 无 | 魔法门678整合版（英文） | 阅读下文段落“[魔法门678整合版的下载地址和使用方法](#魔法门678整合版的下载地址和使用方法)” |
| 魔法门678整合版（英文） | 魔法门678整合版（简体中文） | 下载[魔法门678整合版简体中文汉化包](https://github.com/might-and-magic/mm678-i18n/releases/download/1.3.1/MMMerge_zh_CN.zip) |
| 无 | 魔法门6或7或8原版（英文） | GOG或Uplay上购买 |
| 魔法门8原版（简体 或 繁体中文 或 英文） | 魔法门8灰脸补丁高清完美版（简体中文） | 下载[魔法门8简体中文升级灰脸完美补丁](https://github.com/might-and-magic/mm678-i18n/releases/download/1.3.1/MM8_zh_CN_update.zip)（灰脸补丁、MMExtension、高压缩低音质音乐、简体中文汉化包合一） |
| 魔法门8原版（英文） | 魔法门8灰脸补丁高清完美版（英文） | 下载[魔法门8灰脸补丁](https://grayface.github.io/mm/#GrayFace-MM8-Patch)，然后自已将从2开始编号的MP3或WAV背景音乐文件放入Music文件夹中 |
| 魔法门8灰脸补丁高清完美版（英文） | 魔法门8灰脸补丁高清完美版（简体中文） | 下载[魔法门8灰脸补丁简体中文汉化包](https://github.com/might-and-magic/mm678-i18n/releases/download/1.3.1/MM8_GrayFace_zh_CN.zip)（如无音乐则需放入音乐文件） |
| 魔法门7原版（英文） | 魔法门7灰脸补丁高清完美版（英文） | 下载[魔法门7灰脸补丁英文版](https://grayface.github.io/mm/#GrayFace-MM8-Patch)（如无音乐则需放入音乐文件） |
| 魔法门6原版（英文） | 魔法门6灰脸补丁高清完美版（英文） | 下载[魔法门6灰脸补丁英文版](https://grayface.github.io/mm/#GrayFace-MM8-Patch)（如无音乐则需放入音乐文件） |
| 魔法门6或7原版（中文 或 英文） | 魔法门8灰脸补丁高清完美版（简体中文） | 魔法门6/7灰脸由于技术原因暂无汉化 |

## 灰脸补丁和魔法门678整合版是什么
魔法门GrayFace补丁（灰脸补丁）是由网名GrayFace的俄罗斯网友制作的分别针对魔法门6、7、8的三个补丁。补丁修正了bug，增强了游戏，可以鼠标视角（类FPS），魔法门7、8都可高清（[GrayFace所有魔法门补丁和工具的英文主页](https://grayface.github.io/mm/)；[GitHub上代码库](https://github.com/GrayFace/Misc)）

然后再加上一个灰脸附带可选安装的叫做MMExtension的东西，就可以方便地用脚本任意修改游戏。于是就有了CelestialHeavens论坛（讨论魔法门和英雄无敌的英文论坛）网友Rodril开发的魔法门678整合版，它是基于魔法门8+灰脸补丁+MMExtension制作的，因而算是MM8的一个MOD。整合版将魔法门6、7、8的世界（恩洛斯、埃拉西亚、贾丹姆大陆）整合在了一起。

## 魔法门678整合版的下载地址和使用方法
[魔法门678整合版英文讨论原帖](https://www.celestialheavens.com/forum/10/16657)（内有具体的英文介绍和MEGA网盘下载）；[贴吧网友1qwop0](https://tieba.baidu.com/p/6038711539)上传在了百度网盘（[进入网盘](https://pan.baidu.com/s/1PxPHLD0wyNrMgUjLQrc8PA)；提取码：j6xv）方便国内玩家下载。

①MM678 Merged.zip是整合版文件，②MM678 Patch 08.10.2019.zip是后来补充的更新文件。解压①，再解压②到①解压出来的文件夹中，覆盖原文件即可。如需汉化，请下载并解压下述的③MMMerge_zh_CN.zip，同样覆盖前述文件。

## 语言包下载地址
GitHub或百度网盘任选。最新简体中文语言文件版本号：v1.3.1

### GitHub下载
* [MMMerge_zh_CN.zip（魔法门678整合版简体中文汉化包）](https://github.com/might-and-magic/mm678-i18n/releases/download/1.3.1/MMMerge_zh_CN.zip)
* [MM8_zh_CN_update.zip（魔法门8简体中文升级灰脸完美补丁）](https://github.com/might-and-magic/mm678-i18n/releases/download/1.3.1/MM8_zh_CN_update.zip)
* [MM8_GrayFace_zh_CN.zip（魔法门8灰脸补丁简体中文汉化包）](https://github.com/might-and-magic/mm678-i18n/releases/download/1.3.1/MM8_GrayFace_zh_CN.zip)

### 百度网盘下载
[百度网盘链接](https://pan.baidu.com/s/1WlMmiIiv8t45FccP94_fUw)（长期链接，更新了的话还是在这个链接里面下载。上述三个补丁或汉化包文件都在里面）。提取码：wxd3

## 语言包使用方法

* 魔法门678整合版简体中文汉化包：直接使用于魔法门678整合版（因为整合版是基于GrayFace补丁和MMExtension的）
* 魔法门8简体中文升级灰脸完美补丁：直接使用于魔法门8的任何语言版本原版（因为我这个补丁已经将灰脸补丁、MMExtension、高压缩低音质音乐、简体中文汉化包都放进去了）
* 魔法门8灰脸补丁简体中文汉化包：使用于打了灰脸补丁的魔法门8英文版，如无音乐则需放入音乐文件（因为我这个补丁已经将MMExtension放进去了，但没放音乐）
  * 音乐文件为2.mp3至15.mp3（或.wav），游戏目录下新建Music文件夹并放入音乐文件即可。音乐可通过以下方式获得：原版游戏CD2转换；GOG/Uplay版本自带；把前述补丁中的高压缩低音质（总共才10多MB）音乐文件拿来用；或[这个网盘中](https://pan.baidu.com/s/1pJv8KYJ#list/path=%2F%E9%AD%94%E6%B3%95%E9%97%A8%2F%E5%8E%9F%E5%A3%B0)下载魔法门8的高压缩低音质试听版原声。

使用语言包/补丁：解压全部文件，复制到游戏文件夹，覆盖原文件即可

## 注意事项

建议游戏开始创建队伍的时候不要修改（不要手动编辑输入）角色的姓名，会导致编码错乱。用游戏建议的姓名就好。

如果需要修改角色的姓名，那么在进入游戏后（而不是创建队伍时）：

Ctrl+F1打开控制台

输入：

`DBCS.setPlayerName(角色序号, "角色新姓名")`

例如想修改左数第二个角色的姓名为“佐尔丹”，那么就输入：

`DBCS.setPlayerName(2, "佐尔丹")`

（注意代码的括号、双引号都是半角英文的）

然后Ctrl+回车执行代码，角色的姓名即修改成功

## 整合版简体中文版翻译
* 技术、修图：Tom Chen
* 翻译：Tom Chen、jackking、1qwop0、云斯顿.博拉格 等

大致上是优先用Tom的魔法门6修正“完美版”（2018年版）的翻译文字，其次是简体中文原版的魔法门7的文字，最后是简体中文原版的魔法门8（简体中文原版的魔法门8基本上是由繁体中文原版的魔法门8转换而来的）。然后进行了文字的修正、统一。总体上遵循简体中文官方版本魔法门6、7译名，除部分常见名词，包括：Knight/剑客->骑士；Druid/教士/僧侣->德鲁伊；Priest/神父->神甫；Staff/棍棒/长棍->手杖；Mace/锤棍->钉锤；等等。除少数（如魔法）外，英文相同者通常中文名均统一（如职业、生物的Lich都是巫妖；职业、6中生物、7剧情中尼根的团体Warlock都是邪术师）。然后用修正统一的翻译去生成整合版和MM8的汉化文件（所以MM8的汉化也是修正和统一的了）。

对于专有名词，您可以查阅魔法门6、7、8和整合版的简体、繁体、英文所有版本的所有专有名词对照表：[mm678allzhversiontrans.xlsx Excel文件下载](https://github.com/might-and-magic/mm678-i18n/raw/master/translation-reference/zh/mm678allzhversiontrans.xlsx)

想查看、参与翻译，请[点这里下载简体中文的.po文件](https://github.com/might-and-magic/mm678-i18n/raw/master/3_i18n/zh_CN/LC_MESSAGES/mm678.po)，.po可用[Poedit编辑器](https://poedit.net/)查看和编辑。

## 技术
代码请见[魔法门678语言包（mm678-i18n）的GitHub repo](https://github.com/might-and-magic/mm678-i18n)。用我的一个[Python脚本CSV2PO](https://github.com/tomchen/csv2po)从Tab分隔的表格文件提取字符串转为gettext的.po（在[3_i18n文件夹](https://github.com/might-and-magic/mm678-i18n/tree/master/3_i18n)中，[点这里下载简体中文的.po文件](https://github.com/might-and-magic/mm678-i18n/raw/master/3_i18n/zh_CN/LC_MESSAGES/mm678.po)，.po可用[Poedit编辑器](https://poedit.net/)查看和编辑）和相关文件，整理后转换回表格文件。详细Python代码见主目录和tools目录下的.py文件。使GrayFace补丁的魔法门支持双字节字符的脚本为[FNT_DBCS.lua](https://github.com/might-and-magic/mm678-i18n/blob/master/non_text/scripts_datatables/mmmerge/Scripts/General/FNT_DBCS.lua)。关于如何将普通点阵字体转化为魔法门6、7、8和英雄无敌3的.fnt字体文件，请见[FNT Generator项目](https://github.com/might-and-magic/fnt-generator)。

## 其他常见问题解答
1. **魔法门6、7、8正版游戏在哪里下载？**

   GOG和Uplay上有卖正版，不贵。

1. **魔法门6、7、8分别需要打什么补丁？**

   打上GrayFace补丁即可。（[GrayFace所有魔法门补丁和工具的英文主页](https://grayface.github.io/mm/)）

1. **打了GrayFace补丁的魔法门6、7、8如何汉化？**

   目前仅GrayFace版魔法门8（以及基于魔法门8的整合版）有汉化，见前文。
   
   GrayFace版魔法门6、7暂时没有汉化，但估计很快会有。想玩有动画有背景音乐的中文魔法门6、7者，请暂时使用光盘版。

1. **打了GrayFace补丁的魔法门6、7、8的英文或中文版有动画，有背景音乐，免CD吗？**

   GOG和Uplay上的“无数字版权管理（DRM-free）”的魔法门6、7、8都是有动画，有背景音乐，免CD的。
   
   打了GrayFace补丁的任何版本魔法门6、7、8都是可免CD的。
   
   打了GrayFace补丁的GOG和Uplay版魔法门6、7、8，都是有动画，有背景音乐的。
   
   其他版本的游戏打了GrayFace补丁后，如没有动画，请将动画文件放在Anims或相关文件夹下；如没有背景音乐，请将背景音乐文件放在Music文件夹下。

1. **打了GrayFace补丁的魔法门7、8，或者是678整合版（英文或中文版），如何高清全屏？**

   打开MM8Setup.Exe（或7），选择“3D硬件加速”（默认时应该是被选中的），然后点击“运行魔法门”。
   
   进入游戏后，F4键是切换窗口、全屏模式。
   
   打了GrayFace补丁的魔法门6可以全屏，但魔法门6游戏本身无3D硬件加速，无法高清。想体验高清的魔法门6恩洛斯大陆，请玩678整合版。

1. **游戏有没有兼容性问题？为什么我打开MM8Setup.Exe（或7），“3D硬件加速”一栏是灰色的无法点击？**

   游戏在Windows 8或以下版本Win操作系统下运行通常没有问题。
   
   游戏也可以在Win10下运行，但如果MM8Setup.Exe中“3D硬件加速”一栏是灰色的无法点击，那么需要：右键点击mm8.exe（或7）->属性->“兼容性”选项卡->“以兼容模式运行这个程序”打钩->下拉菜单中选择“Windows 8”的兼容模式->确定

1. **GrayFace补丁/整合版相对于原版新增的快捷键有哪些？**

   * 大写锁定（CapsLock）或鼠标中键（即点击滚轮）：在鼠标视角（类FPS，用鼠标转身）模式和传统模式（左右方向键转身）之间切换（另注：如鼠标视角未开启，请打开mm8.ini（或6、7）文件，将其中的“MouseLook=0”这一行改为“MouseLook=1”）
   * F2：切换为双倍速模式
   * F3：切换为一直前进的模式
   * F11：快速保存游戏

   以上均为默认快捷键。另外快速读取游戏功能默认没有快捷键。上述这些功能都可以在mm8.ini（或6、7）文件中修改快捷键。
   
   * 滚轮向上/下滚动：向上/下飞（飞行魔法施展时）
   * CTRL+F1：控制台（开发者搞代码用的，也可“作弊”，MM6、7、8需要MMExtension）

   原版的快捷键一览表，请查阅正版游戏的说明书，或者是网上的攻略、电子书等。MM7、8和整合版游戏中也有键盘设置，可以查看所有快捷键，并更改它们。

1. **整合版如何在三个大陆之间传送？**

   在MM6、7、8的三个大陆之间传送，需要在特定的传送点施展时空之门魔法，以开启大陆间传送模式。每个大陆都有一些特定的传送点，需要找找。

1. **整合版为什么总是下雪？怪物怎么那么强？**

   可以在游戏中的设置里关闭“天气效果”和“怪物强化”。（默认均开启，游戏开始时是1月，常下雪；怪物随着队员等级的增强而增强）

1. **整合版如何作弊？**

   想使用类似简体中文版魔法门6的J键作弊，直接跳到某一地图上的话，那么，CTRL+F1开启控制台，输入
   
   `evt.MoveToMap{Name = "7d25.blv"}`
   
   然后CTRL+回车键执行，即直接跳到魔法门7的塞莱斯特，其中7d25.blv是塞莱斯特的地图文件名。具体的地区和该地区地图文件名的对应关系，见《整合版地图一览表》。把7d25.blv换成其他地图文件名，就可以跳到其他任何地区。
   
   打了GrayFace补丁的6、7、8也类似。

   其他修改属性数值的作弊，可以用Cheat Engine游戏作弊器。下载网友做的[魔法门678整合版的Cheat Engine作弊表（mm8.CT）文件](https://fearlessrevolution.com/viewtopic.php?f=4&t=9058)。再下载[Cheat Engine游戏作弊器](https://www.cheatengine.org/downloads.php)，打开作弊器，运行魔法门678整合版，窗口化游戏，切换回Cheat Engine，选择进程，选择魔法门8游戏的进程，然后再载入mm8.CT作弊表文件即可开始作弊。选择一个项目，比如“Character 1”，然后点键盘上的右箭头键，可以像展开文件夹一样展开这个项目。双击Value（值）列下的数值，就可以对数值进行更改。几乎任何常见的数值，如金币食物、各大属性等级技能魔法、行囊中的物品、时间等都可以修改，和魔法门的作弊器“CHE”一样强大。不过作弊前注意保存游戏，因为修改不当时偶尔会使游戏跳出。

   CHE存盘作弊器无法用于678整合版。

## 更新日志
（版本号为简体中文语言文件的版本号而不是GrayFace补丁或者整合版的版本号）：
* [2020-01-24] v0.9：初始发布
* [2020-01-25] v0.9.1：修改了存档文件名导致崩溃的问题
* [2020-02-02] v1.0：修复显示不正常问题；修复无.fnt文件跳出问题；加了mm6的中文语音，几乎全部汉化；统一了几乎所有标题名字的字串的翻译；NPC姓名的本地化文件放于Data下；加强公式用乘以；魔幻牌图片；
* [2020-02-03] v1.1：修复了.str中字串过长进入地图跳出的问题；Global.txt里的翻译修正
* [2020-02-04] v1.1.1：修复了setPlayerName()的问题；主题和选项画面、三大陆图等加中文，MM8 logo换掉；解决翡翠岛上NPC对话无法翻译的问题
* [2020-02-12] v1.2：统一职业、技能、属性、魔法、生物、物品、词缀、地图等的翻译；全部译完；MM6翻译使用“完美版”；NPCText.txt根据整合版修改；修复了mm?lang.ini中的中文的显示问题；MM8Setup.Exe的汉化和修图
* [2020-02-12] v1.2.1：修复文字中的“{}”符号
* [2020-02-21] v1.2.2：技能专家大师描述检查统一；火炬加点数问题修复；火炬名；“游侠/武士”（Paladin）改为“圣武士”
* [2020-03-03] v1.3：谜语和需键盘输入处（阴影教传送门、黑摩尔城堡棺材、最终的失控混沌谜语等）跳出问题修复；弓箭和榴弹枪恢复时间无下限；“缺口”（Breach）改为“大裂缝”；翻译维尔丹任务、大裂缝及其地下室、少数升职任务未译字串；通关证书翻译和背景修饰；魔幻牌几张牌修正；加入魔法门8简中升级包
* [2020-03-04] v1.3.1：hotfix：修复将队员姓名替换为吸血鬼飞龙等的问题

## 截图
![魔法门678整合版简体中文版截图0](https://github.com/might-and-magic/mm678-i18n/raw/master/docs/img/mmerge_zhcn_0.jpg)
![魔法门678整合版简体中文版截图1](https://github.com/might-and-magic/mm678-i18n/raw/master/docs/img/mmerge_zhcn_1.jpg)
![魔法门678整合版简体中文版截图2](https://github.com/might-and-magic/mm678-i18n/raw/master/docs/img/mmerge_zhcn_2.jpg)

## 版权
版权声明见[LICENSE文件](https://github.com/might-and-magic/mm678-i18n/blob/master/LICENSE)：代码使用MIT License；“魔法门”商标和魔法门游戏文件版权属育碧公司，合理使用，不含游戏主体；GrayFace的补丁和工具见[其LICENSE文件](https://github.com/might-and-magic/mm678-i18n/blob/master/LICENSE)。